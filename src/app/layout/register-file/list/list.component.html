<div [@routerTransition]>
  <!--
    <ngx-loading
      [show]="loading"
      [config]="{
          backdropBorderRadius: '3px',
          fullScreenBackdrop: true,
          primaryColour: '#222',
          secondaryColour: '#222',
          tertiaryColour: '#222'
      }"
  ></ngx-loading>
  <app-page-header [heading]="'Volumes'" [icon]="'fa-table'" [btnNew]="'Novo Volume'" [permissionBtnNew]="['DAENERYS', 'TYWIN']" [routerTo]="'/volumes/new'"></app-page-header>
  -->
  <div class="row">
    <div class="col col-xl-12 col-lg-12">
      <div class="card bg-light mb-12">
        <div class="card-body">
          <ngb-tabset>
            <ngb-tab title="Dados da Localização">
              <ng-template ngbTabContent>
                <br />
                <div class="row">
                  <div class="col-lg-12">
                    <button type="button" class="btn btn-default pull-right" (click)="blockInputs()">
                      <i [ngClass]="!inputBlock ? 'fa fa-unlock' : 'fa fa-lock'"></i>&emsp;Bloquear Campos
                    </button>
                  </div>
                </div>
                <form [formGroup]="registerFileForm" role="FormGroup" class="form-inline">
                  <div class="form-group mb-2 col-8">
                    <label for="typeahead-basic">Empresa</label>
                    <input id="typeahead-basic" type="text" class="form-control" formControlName="company"
                      [resultTemplate]="rtCompany" [inputFormatter]="formatter" [ngbTypeahead]="searchCompany"
                      [ngClass]="{ 'is-invalid': !company.valid }" style="width: 100%" />
                    <div *ngIf="company.invalid && (company.dirty || company.touched)" class="invalid-feedback">
                      <div *ngIf="!company.valid">
                        Empresa é obrigatório.
                      </div>
                    </div>
                    <!--<div *ngIf="company.invalid && (company.dirty || company.touched)" class="invalid-feedback">
                                                                                
                                                                                          <div *ngIf="!company.valid">
                                                                                            Empresa é obrigatório.
                                                                                        </div>
                                                                                       
                                                                              </div> -->
                  </div>
                  <div class="form-group mb-2 col-4">
                    <label for="typeahead-basic">Armazém</label>
                    <input id="typeahead-basic" type="text" class="form-control" formControlName="storehouse"
                      [resultTemplate]="rtStoreHouse" [inputFormatter]="formatter" [ngbTypeahead]="search"
                      [ngClass]="{ 'is-invalid': !storehouse.valid }" style="width: 100%" />
                    <div *ngIf="storehouse.invalid && (storehouse.dirty || storehouse.touched)"
                      class="invalid-feedback">
                      <div *ngIf="!storehouse.valid">
                        Armazém é obrigatório.
                      </div>
                    </div>
                  </div>
                  <div class="form-group mb-2 col-6">
                    <label for="location">Localização</label>
                    <input id="location" class="form-control col-12" formControlName="location" />
                    <!--<div *ngIf="location.invalid && (location.dirty || location.touched)" class="invalid-feedback">
                                                                  
                                                                          <div *ngIf="!company.valid">
                                                                            Empresa é obrigatório.
                                                                        </div>
                                                                       
                                                                </div> -->
                  </div>
                  <div class="form-group mb-2 col-6">
                    <label for="document">Tipo do Documento</label>
                    <input id="document" class="form-control col-12" formControlName="document" />
                    <!--<div *ngIf="location.invalid && (location.dirty || location.touched)" class="invalid-feedback">
                                                                    
                                                                            <div *ngIf="!company.valid">
                                                                              Empresa é obrigatório.
                                                                          </div>
                                                                         
                                                                  </div> -->
                  </div>
                  <ng-template #rtStoreHouse let-r="result" let-t="storehouse">
                    <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
                  </ng-template>
                  <ng-template #rtCompany let-r="result" let-t="company" class="custom-typeahead">
                    <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
                  </ng-template>
                </form>
              </ng-template>
            </ngb-tab>
            <ngb-tab>
              <ng-template ngbTabTitle>Formulário de Indexação</ng-template>
              <ng-template ngbTabContent>
                <p>Aqui o Formulário de Indexação.</p>
              </ng-template>
            </ngb-tab>
            <!-- <ngb-tab title="Disabled" [disabled]="true">
              <ng-template ngbTabContent>
                <p>Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua,
                  retro synth
                  master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher
                  retro keffiyeh
                  dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid. Aliquip placeat
                  salvia cillum
                  iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui.</p>
              </ng-template>
            </ngb-tab> -->
          </ngb-tabset>
        </div>
      </div>
    </div>
  </div>
  <br />
  <div class="row">
    <div class="col col-xl-12 col-lg-12">
      <app-datatables [data]="register-files" (setPage)="setPage($event)" [columns]="columns"
        (show)="getVolume($event)">
      </app-datatables>
    </div>
  </div>
</div>