<div [@routerTransition]>
  <ngx-loading
      [show]="loading"
      [config]="{
        backdropBorderRadius: '3px',
        fullScreenBackdrop: false,
        primaryColour: '#222',
        secondaryColour: '#222',
        tertiaryColour: '#222'
      }"
  ></ngx-loading>
  <div class="base-modal-content" style="min-height: 80vh">
      <div class="card-header base-modal-header flex">
          <div class="row" *ngIf="!loading">
              <div class="col text-left">
                  <i class="mdi mdi-help-circle mdi-24px" style="color:#2869D9; margin-left: 15px;" (click)="help()"></i>
              </div>
          <button type="button" (click)="close()" class="close col text-right" data-dismiss="modal" aria-label="Close">
              <span id="call3" aria-hidden="true">&times;</span>
          </button>
          <br>
          <div class="col-lg-12" >
              <h2 id="call1">Dados do Volume</h2>
          </div>
          
          <br/>
          <div style="margin-bottom: 10px" id="call2">
              <app-buttons-custom *ngIf="!isNew" [id]="vol._id" (edit)="editVolume()"
                  (delete)="open('focusFirst', vol._id)" [permissionEdit]="permissionEdit"
                  [permissionDelete]="permissionDelete"></app-buttons-custom>
          </div>
          </div>

          
      </div>

      <div class="card-body base-modal-body">
          <form [formGroup]="volumeForm" role="FormGroup" (ngSubmit)="submit()" class="form">
              <div class="form-content" id="call4">  

                  <!-- <div class="form-group  col-xl-12">
                      <label for="input-name">Empresa</label>
                      <input type="text" placeholder="Nome da Empresa" [ngClass]="{ 'is-invalid': company.invalid && company.touched }" class="form-control" formControlName="company" />
                      <div *ngIf="company.invalid && (name.dirty || name.touched)" class="invalid-feedback">
                          <div *ngIf="!name.valid">
                              Nome é obrigatório.
                          </div>
                      </div>
                  </div> -->

                  

                  <ng-template #rtVolume let-r="result" let-t="volume" class="custom-typeahead">
                      <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
                  </ng-template>
              </div>
          </form>
      </div>
      <div *ngIf="this.permissionCancelEdit && this.permissionCancelEdit" class="modal-footer" >
          <div class="pull-right" id="call5">
              <button  type="button" (click)="cancelEditNew()" class="btn btn-danger"
                  style="margin-right:10px">Cancelar</button>
              <button type="button" (click)="submit()" class="btn btn-primary" 
              [disabled]="storehouse.invalid || guardType.invalid || volumeType.invalid || departament.invalid || location.invalid
              || reference.invalid">
                  Salvar
              </button>
          </div>
      </div>
  </div>
</div>